<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Note | 忐忑の博客</title><link>https://twbhub.com/tags/note/</link><atom:link href="https://twbhub.com/tags/note/index.xml" rel="self" type="application/rss+xml"/><description>Note</description><generator>Wowchemy (https://wowchemy.com)</generator><language>zh-Hans</language><copyright>[![忐忑的博客](https://img.shields.io/badge/©-2020%20%2D-%202022_忐忑-yellow)](/authors/admin/) [![忐忑的博客](https://img.shields.io/github/tag/twbworld/twbworld.GitHub.io?logo=github)](https://github.com/twbworld/twbworld.GitHub.io) [![Hugo](https://img.shields.io/badge/powered-hugo-ff4088?logo=hugo)](https://gohugo.io/) [![wowchemy](https://img.shields.io/badge/theme-wowchemy-00d1b2)](https://wowchemy.com/)</copyright><lastBuildDate>Mon, 05 Sep 2022 19:00:00 +0800</lastBuildDate><image><url>https://twbhub.com/media/avatar.jpg</url><title>Note</title><link>https://twbhub.com/tags/note/</link></image><item><title>olaindex配置安装</title><link>https://twbhub.com/post/olaindex_config/</link><pubDate>Mon, 05 Sep 2022 19:00:00 +0800</pubDate><guid>https://twbhub.com/post/olaindex_config/</guid><description>&lt;h2 id="关于环境的安装不做详细教程">关于环境的安装,不做详细教程&lt;/h2>
&lt;h3 id="olainde隐藏后台地址">&lt;code>olainde&lt;/code>隐藏后台地址&lt;/h3>
&lt;p>因为olaindex默认是以&lt;code>/admin&lt;/code>为默认地址的,我们需要做适当修改&lt;/p>
&lt;h4 id="修改routeswebphp">修改routes/web.php&lt;/h4>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-php" data-lang="php">&lt;span style="color:#a6e22e">Route&lt;/span>&lt;span style="color:#f92672">::&lt;/span>&lt;span style="color:#a6e22e">get&lt;/span>(&lt;span style="color:#e6db74">&amp;#39;login&amp;#39;&lt;/span>, &lt;span style="color:#e6db74">&amp;#39;Auth\LoginController@showLoginForm&amp;#39;&lt;/span>)&lt;span style="color:#f92672">-&amp;gt;&lt;/span>&lt;span style="color:#a6e22e">name&lt;/span>(&lt;span style="color:#e6db74">&amp;#39;login&amp;#39;&lt;/span>);
&lt;span style="color:#75715e">// 改为
&lt;/span>&lt;span style="color:#75715e">&lt;/span>&lt;span style="color:#a6e22e">Route&lt;/span>&lt;span style="color:#f92672">::&lt;/span>&lt;span style="color:#a6e22e">get&lt;/span>(&lt;span style="color:#e6db74">&amp;#39;mylogin&amp;#39;&lt;/span>, &lt;span style="color:#e6db74">&amp;#39;Auth\LoginController@showLoginForm&amp;#39;&lt;/span>)&lt;span style="color:#f92672">-&amp;gt;&lt;/span>&lt;span style="color:#a6e22e">name&lt;/span>(&lt;span style="color:#e6db74">&amp;#39;login&amp;#39;&lt;/span>);
&lt;span style="color:#a6e22e">Route&lt;/span>&lt;span style="color:#f92672">::&lt;/span>&lt;span style="color:#a6e22e">post&lt;/span>(&lt;span style="color:#e6db74">&amp;#39;login&amp;#39;&lt;/span>, &lt;span style="color:#e6db74">&amp;#39;Auth\LoginController@login&amp;#39;&lt;/span>);
&lt;span style="color:#75715e">//改为
&lt;/span>&lt;span style="color:#75715e">&lt;/span>&lt;span style="color:#a6e22e">Route&lt;/span>&lt;span style="color:#f92672">::&lt;/span>&lt;span style="color:#a6e22e">post&lt;/span>(&lt;span style="color:#e6db74">&amp;#39;mylogin&amp;#39;&lt;/span>, &lt;span style="color:#e6db74">&amp;#39;Auth\LoginController@login&amp;#39;&lt;/span>);
&lt;span style="color:#a6e22e">Route&lt;/span>&lt;span style="color:#f92672">::&lt;/span>&lt;span style="color:#a6e22e">prefix&lt;/span>(&lt;span style="color:#e6db74">&amp;#39;admin&amp;#39;&lt;/span>)&lt;span style="color:#f92672">-&amp;gt;&lt;/span>&lt;span style="color:#a6e22e">middleware&lt;/span>(&lt;span style="color:#e6db74">&amp;#39;auth&amp;#39;&lt;/span>)&lt;span style="color:#f92672">-&amp;gt;&lt;/span>&lt;span style="color:#a6e22e">group&lt;/span>(&lt;span style="color:#66d9ef">function&lt;/span> () {})
&lt;span style="color:#75715e">//改为
&lt;/span>&lt;span style="color:#75715e">&lt;/span>&lt;span style="color:#a6e22e">Route&lt;/span>&lt;span style="color:#f92672">::&lt;/span>&lt;span style="color:#a6e22e">prefix&lt;/span>(&lt;span style="color:#e6db74">&amp;#39;myadmin&amp;#39;&lt;/span>)&lt;span style="color:#f92672">-&amp;gt;&lt;/span>&lt;span style="color:#a6e22e">middleware&lt;/span>(&lt;span style="color:#e6db74">&amp;#39;auth&amp;#39;&lt;/span>)&lt;span style="color:#f92672">-&amp;gt;&lt;/span>&lt;span style="color:#a6e22e">group&lt;/span>(&lt;span style="color:#66d9ef">function&lt;/span> () {})
&lt;/code>&lt;/pre>&lt;/div>&lt;h4 id="修改nginx配置">修改nginx配置&lt;/h4>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-json" data-lang="json"> &lt;span style="color:#960050;background-color:#1e0010">location&lt;/span> &lt;span style="color:#960050;background-color:#1e0010">/admin/account&lt;/span> {
&lt;span style="color:#960050;background-color:#1e0010">rewrite&lt;/span> &lt;span style="color:#960050;background-color:#1e0010">^/admin/(.*)$&lt;/span> &lt;span style="color:#960050;background-color:#1e0010">/myadmin/$1&lt;/span> &lt;span style="color:#960050;background-color:#1e0010">last;&lt;/span>
}
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="配置凭证">配置凭证&lt;/h3>
&lt;ol>
&lt;li>如图按&lt;code>申请&lt;/code>自动创建应用:
&lt;img src="https://cdn.jsdelivr.net/gh/twbworld/hosting@master/img/202005172127497432198.png" alt="">&lt;/li>
&lt;li>登录&lt;a href="https://www.azure.microsoft.com/" target="_blank" rel="noopener">Microsoft Azure&lt;/a>&lt;/li>
&lt;li>进入了&lt;code>应用注册&lt;/code>,选择对应的应用(我的是&amp;quot;Graph PHP quick start&amp;quot;)&lt;/li>
&lt;li>记录下&lt;code>应用程序(客户端) ID&lt;/code>的编码,后面要用&lt;/li>
&lt;li>进入&lt;code>证书和密码&lt;/code>, 创建&lt;code>新客户端密码&lt;/code>, 记录下&lt;code>值&lt;/code>的编码,后面要用&lt;/li>
&lt;li>进入&lt;code>身份验证&lt;/code>,在&lt;code>web&lt;/code>模块配置重定向的url, 如图所示:
&lt;img src="https://cdn.jsdelivr.net/gh/twbworld/hosting@master/img/2020051721274936122.png" alt="">&lt;/li>
&lt;li>如图进入&lt;code>API权限&lt;/code>,增加对应权限
&lt;img src="https://cdn.jsdelivr.net/gh/twbworld/hosting@master/img/2020051721274930989089.png" alt="">&lt;/li>
&lt;li>把前面所记录下的&lt;code>client_id&lt;/code>和&lt;code>client_secret&lt;/code>填入, 保存
&lt;img src="https://cdn.jsdelivr.net/gh/twbworld/hosting@master/img/20200517212749307398210.png" alt="">&lt;/li>
&lt;/ol></description></item><item><title>学习笔记</title><link>https://twbhub.com/note/</link><pubDate>Sun, 04 Oct 2020 00:00:00 +0000</pubDate><guid>https://twbhub.com/note/</guid><description>&lt;h2 id="扩展知识">扩展知识&lt;/h2>
&lt;h3 id="双系统制作">双系统制作&lt;/h3>
&lt;blockquote>
&lt;p>&lt;a href="https://blog.csdn.net/mengxiangjia_linxi/article/details/78965103">https://blog.csdn.net/mengxiangjia_linxi/article/details/78965103&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;ol>
&lt;li>电脑已有 &lt;code>Windows系统&lt;/code> 的前提下,用 &lt;code>UltraISO&lt;/code> 把 &lt;code>centos系统&lt;/code> 刻入U盘&lt;/li>
&lt;li>启动系统U盘(新机用 &lt;code>uefi启动&lt;/code> ),在系统选择页面,按下 &lt;code>tab健&lt;/code> 修改启动项,把 &lt;code>LABEL=CentOS\x207\x20x86_64&lt;/code> 改为 &lt;code>/dev/sdb4&lt;/code> (不一定是 &lt;code>sdb4&lt;/code> ,可能是 &lt;code>sda4&lt;/code> , &lt;code>sdc4&lt;/code> 等等,具体百度)&lt;/li>
&lt;li>安装系统界面,选择硬盘,自动分配分区得以回收空间&lt;/li>
&lt;li>重做 &lt;code>PE启动盘&lt;/code> ,启动盘用 &lt;code>NTBOOT&lt;/code> 软件做 &lt;code>双系统引导修复&lt;/code>&lt;/li>
&lt;/ol>
&lt;h2 id="常用-命令快捷键">常用 命令&amp;amp;&amp;amp;快捷键&lt;/h2>
&lt;h3 id="linux">Linux&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>命令&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>..&lt;/td>
&lt;td>上一级目录&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>cd -&lt;/td>
&lt;td>上一次目录&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ctrl+C&lt;/td>
&lt;td>强制中断&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ctrl+U&lt;/td>
&lt;td>清除输入命令&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>!v&lt;/td>
&lt;td>执行上一条以&amp;rsquo;v&amp;rsquo;开头的命令&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ll&lt;/td>
&lt;td>ls -l 缩写&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>2&amp;gt;&amp;amp;1&lt;/td>
&lt;td>输出错误&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>|grep&lt;/td>
&lt;td>过滤结果&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ctrl+a/e&lt;/td>
&lt;td>命令最前/后&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>clear&lt;/td>
&lt;td>清屏(或ctrl+L)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>pwd&lt;/td>
&lt;td>当前目录&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>cat&lt;/td>
&lt;td>查看文件内容&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>mkdir/mv/cp/rm&lt;/td>
&lt;td>文件名操作&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>\cp&lt;/td>
&lt;td>当有同名文件,不需要输&amp;quot;Y&amp;quot;即可覆盖&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>useradd&lt;/td>
&lt;td>创建新用户&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>which&lt;/td>
&lt;td>查找命令的位置&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>chown&lt;/td>
&lt;td>设置文件拥有者&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>chmod 775&lt;/td>
&lt;td>设置u/g/o权限&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>setfacl -R -m u:www-data:rwx /var&lt;/td>
&lt;td>设置单独用户的权限(getfacl查看)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>chattr&lt;/td>
&lt;td>设置文件属性,如设置成禁止删除文件&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ps -ef(ps aux)&lt;/td>
&lt;td>查看所有进程&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>pstree -p&lt;/td>
&lt;td>查看进程树&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>pkill httpd&lt;/td>
&lt;td>关闭某进程(或killall)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>uptime&lt;/td>
&lt;td>计算机负载&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>top&lt;/td>
&lt;td>实时负载(可安装htop加强版)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>df -h&lt;/td>
&lt;td>磁盘占用&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>du -sh *&lt;/td>
&lt;td>目录下各个文件大小(或 du -h &amp;ndash;max-depth=0 *)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>pkill -kill -t pts/1&lt;/td>
&lt;td>强退指定用户&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>who&lt;/td>
&lt;td>在线用户(或缩写w)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>last&lt;/td>
&lt;td>用户登录历史记录&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>id&lt;/td>
&lt;td>查看用户所在的组&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>lsof -i:80&lt;/td>
&lt;td>查看端口&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>netstat -antup | grep nginx&lt;/td>
&lt;td>查看进程或端口等&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>man&lt;/td>
&lt;td>命令帮助(可安装中文软件)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>curl ifconfig.me&lt;/td>
&lt;td>查看公网ip&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>pkill -HUP nginx&lt;/td>
&lt;td>系统级别重载配置文件&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>systemctl status nginx.service&lt;/td>
&lt;td>查看状态(或service nginx status)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ln -s&lt;/td>
&lt;td>软连接&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>composer dump-autoload&lt;/td>
&lt;td>可解决加载失败&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>nohup &amp;lt;shell&amp;gt; &amp;amp;&lt;/td>
&lt;td>在后台运行shell命令&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>tree -LNFC 2&lt;/td>
&lt;td>tree软件常用命令&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>tar -xaf -C ./folder&lt;/td>
&lt;td>识别压缩文件类型,进行解压(-caf)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>unzip -O cp936&lt;/td>
&lt;td>zip文件解压避免乱码&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>tail -f &amp;lt;filename&amp;gt;&lt;/td>
&lt;td>查看文件变化&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>scp -r /var &lt;a href="mailto:root@192.168.1.1">root@192.168.1.1&lt;/a>:/var/&lt;/td>
&lt;td>目录传输&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>find / -type f -name &amp;ldquo;*.txt&amp;rdquo; | xargs grep &amp;ldquo;hello&amp;rdquo;&lt;/td>
&lt;td>查找文件内容&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>cat &amp;lt;filename&amp;gt; | openssl dgst -sha256 -binary | openssl enc -base64 -A&lt;/td>
&lt;td>计算文件sha256校验值(css校验方法:&lt;code>&amp;lt;link href=&amp;quot;filename.css&amp;quot; integrity=&amp;quot;sha256-h20CPZ0QyXlBuAw7A+KluUYx/3pK+c7lYEpqLTlxjYQ=&amp;quot;&amp;gt;&lt;/code>)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>sha256sum &amp;lt;filename&amp;gt;&lt;/td>
&lt;td>计算文件md5校验值&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>docker container list -aq |xargs docker container rm&lt;/td>
&lt;td>docker清理容器(同样效果 &lt;code>docker container prune&lt;/code>)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>docker volume ls -q |xargs docker volume rm&lt;/td>
&lt;td>docker清理卷(同样效果 &lt;code>docker volume prune&lt;/code>)&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="git">Git&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>命令&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>&lt;code>git diff &amp;lt;file&amp;gt;&lt;/code>&lt;/td>
&lt;td>工作区版本库对比&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>git diff &amp;lt;commit-id&amp;gt; &amp;lt;commit-id&amp;gt; --stat&lt;/code>&lt;/td>
&lt;td>比较两个版本变化了的文件&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>git commit --amend&lt;/code>&lt;/td>
&lt;td>修改已commit的备注&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>git commit –am &amp;lt;备注&amp;gt;&lt;/code>&lt;/td>
&lt;td>直接跳过add命令&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>git reset --hard HEAD&lt;/code>&lt;/td>
&lt;td>还原最新版&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>git reset --hard &amp;lt;commit-id&amp;gt;&lt;/code>&lt;/td>
&lt;td>还原指定版&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>git reset HEAD &amp;lt;file&amp;gt;&lt;/code>&lt;/td>
&lt;td>放弃暂存区的修改&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>git checkout -- &amp;lt;file&amp;gt;&lt;/code>&lt;/td>
&lt;td>放弃工作区的修改&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>git checkout . &amp;amp;&amp;amp; git clean -df&lt;/code>&lt;/td>
&lt;td>清除所有新增的文件目录&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>git checkout –b &amp;lt;name&amp;gt;&lt;/code>&lt;/td>
&lt;td>创建并切换分支&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>git branch -D &amp;lt;name&amp;gt;&lt;/code>&lt;/td>
&lt;td>丢弃未合并的分支&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>git branch -r -d origin/&amp;lt;name&amp;gt; &amp;amp;&amp;amp; git push origin :&amp;lt;name&amp;gt;&lt;/code>&lt;/td>
&lt;td>删除远程分支&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>git mergetool&lt;/code>&lt;/td>
&lt;td>解决冲突的合并工具&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>git tag -a &amp;lt;name&amp;gt; -m &amp;lt;备注&amp;gt; &amp;lt;commit-id&amp;gt;&lt;/code>&lt;/td>
&lt;td>创建并指定标签信息&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>git show &amp;lt;name&amp;gt;&lt;/code>&lt;/td>
&lt;td>查看标签信息&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>git stash&lt;/code>&lt;/td>
&lt;td>保存当前工作现场&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>git stash pop&lt;/code>&lt;/td>
&lt;td>恢复并删除工作现场&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>git stash list&lt;/code>&lt;/td>
&lt;td>查看工作现场&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>git stash apply &amp;lt;stash@{0}&amp;gt;&lt;/code>&lt;/td>
&lt;td>恢复工作现场&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>git stash drop &amp;lt;stash@{0}&amp;gt;&lt;/code>&lt;/td>
&lt;td>删除工作现场&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>git reflog &amp;lt;file&amp;gt;&lt;/code>&lt;/td>
&lt;td>命令历史&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>git revert &amp;lt;commit-id&amp;gt;&lt;/code>&lt;/td>
&lt;td>撤销某个版本&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>git cherry-pick &amp;lt;commit-id&amp;gt;&lt;/code>&lt;/td>
&lt;td>提取某个分支的某个版本到当前分支&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>git check-ignore -v &amp;lt;file&amp;gt;&lt;/code>&lt;/td>
&lt;td>检查哪个规则忽略了文件&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>git rm -rf --cached . &amp;amp;&amp;amp; git add -A&lt;/code>&lt;/td>
&lt;td>清徐缓存,用于更新gitignore&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>git submodule add &amp;lt;远程项目地址&amp;gt; &amp;lt;路径&amp;gt;&lt;/code>&lt;/td>
&lt;td>添加子模块&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>git submodule update --init --recursive&lt;/code>&lt;/td>
&lt;td>下载所有子模块&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>git submodule update --remote&lt;/code>&lt;/td>
&lt;td>更新所有子模块&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>git worktree add ../folder master&lt;/code>&lt;/td>
&lt;td>关联某分支到目录&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>git remote show origin&lt;/code>&lt;/td>
&lt;td>详细的远程分支的信息&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>git log --oneline --graph --decorate --all -9&lt;/code>&lt;/td>
&lt;td>可视化显示版本树&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>git branch --set-upstream-to=origin/main main&lt;/code>&lt;/td>
&lt;td>设置默认分支&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>git config --global alias.lg &amp;quot;log --color --graph --all --oneline --decorate --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&amp;lt;%an&amp;gt;%Creset' --abbrev-commit&amp;quot;&lt;/code>&lt;/td>
&lt;td>可视化显示版本树配置别名&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>git config --global credential.helper store&lt;/code>&lt;/td>
&lt;td>http免密&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>git config --global color.ui true&lt;/code>&lt;/td>
&lt;td>彩色显示&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>git config --global core.filemode false&lt;/code>&lt;/td>
&lt;td>关闭git对文件权限的监视&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>git config --global core.quotepath false&lt;/code>&lt;/td>
&lt;td>正常显示中文文件名&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>git config --global core.autocrlf input&lt;/code>&lt;/td>
&lt;td>add时转换为LF&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>&lt;code>git config --global core.safecrlf true&lt;/code>&lt;/td>
&lt;td>发现多种换行符拒绝add&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="vim">Vim&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>命令&lt;/th>
&lt;th>效果&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>!&amp;lt;shell&amp;gt;&lt;/td>
&lt;td>执行系统命令&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>u&lt;/td>
&lt;td>后退&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Ctrl + r&lt;/td>
&lt;td>前进&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>i/I/a/A/o/O&lt;/td>
&lt;td>前/行首/后/行尾/上行/下行 插入&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>b/e/^/$/H/M/L/gg/G&lt;/td>
&lt;td>移动光标到 跳前/跳后/行首/行尾/窗头/窗中/窗尾/头部/尾部&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Ctrl + b/f/d/u&lt;/td>
&lt;td>翻一页/半页&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>D&lt;/td>
&lt;td>删除到行尾&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>dG&lt;/td>
&lt;td>向下删除&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>dd&lt;/td>
&lt;td>删除当前行&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>yy&lt;/td>
&lt;td>复制&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>p&lt;/td>
&lt;td>粘贴&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ddp&lt;/td>
&lt;td>与下行互换位置&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>yyp&lt;/td>
&lt;td>新增一行&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ggvG&lt;/td>
&lt;td>全选&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>set number&lt;/td>
&lt;td>显示行数&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>vim +X &amp;lt;filename&amp;gt;&lt;/td>
&lt;td>文件加密&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>:&amp;lt;number&amp;gt;&lt;/td>
&lt;td>跳到指定行&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>/&amp;lt;name&amp;gt;&lt;/td>
&lt;td>搜索(按 n/N 向 下/上 查找)&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="sublime">Sublime&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>快捷键&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Ctrl+Shift+L&lt;/td>
&lt;td>所有选中的行,在行后后出现光标&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Ctrl+Shift+M&lt;/td>
&lt;td>选中括号里的内容&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Ctrl+M&lt;/td>
&lt;td>光标在括号前后跳&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Ctrl+Shift+[ / ]&lt;/td>
&lt;td>隐藏/显示 内容&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Ctrl+J&lt;/td>
&lt;td>多行成一行&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Ctrl+KK&lt;/td>
&lt;td>删除行后的内容&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Ctrl+K+U / L&lt;/td>
&lt;td>选中的内容 大写/小写&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Ctrl+F2&lt;/td>
&lt;td>标记行&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>F6&lt;/td>
&lt;td>检错&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Alt+.&lt;/td>
&lt;td>补充标签&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Alt+数字&lt;/td>
&lt;td>跳转tag&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>shift+pgup&lt;/td>
&lt;td>向下选择&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="vimium">Vimium&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>快捷键&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>o&lt;/td>
&lt;td>搜索&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>j/k&lt;/td>
&lt;td>滚动&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>gg/G&lt;/td>
&lt;td>头/底部&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>d/u&lt;/td>
&lt;td>翻页&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>f&lt;/td>
&lt;td>打开连接&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>x/X&lt;/td>
&lt;td>关闭/恢复标签页&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>J/K&lt;/td>
&lt;td>上/下一个标签页&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>yy&lt;/td>
&lt;td>复制链接&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>H/L&lt;/td>
&lt;td>后退/前进记录&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>p&lt;/td>
&lt;td>刷新&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>t&lt;/td>
&lt;td>新建标签页&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="chrome">chrome&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>快捷键&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Ctrl+0&lt;/td>
&lt;td>恢复100%&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Ctrl+j&lt;/td>
&lt;td>下载页&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Ctrl+Shift+Delete&lt;/td>
&lt;td>清除数据&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Ctrl+u&lt;/td>
&lt;td>html源码&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>chrome://net-internals/#dns&lt;/td>
&lt;td>清除DNS&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="windows">windows&lt;/h3>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>快捷键&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>Win+←&lt;/td>
&lt;td>小化&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>win+v&lt;/td>
&lt;td>粘贴板&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Win+i&lt;/td>
&lt;td>设置页&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Shift+Ctrl+Esc&lt;/td>
&lt;td>任务管理器&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Alt+F4&lt;/td>
&lt;td>关机&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Alt+1/Enter/双击&lt;/td>
&lt;td>查看文件属性&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Alt+↑&lt;/td>
&lt;td>上一级目录&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>Alt+2(Shift+Ctrl+n)&lt;/td>
&lt;td>新建文件夹&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>右击+v+d&lt;/td>
&lt;td>隐藏图标(等等操作)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ctrl+win+D&lt;/td>
&lt;td>新建桌面&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ctrl+win+←&lt;/td>
&lt;td>返回桌面(老板键)&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="linux-1">Linux&lt;/h2>
&lt;ul>
&lt;li>端口号&amp;lt;1024为系统预留端口&lt;/li>
&lt;li>uid &amp;lt; 500 为系统用户&lt;/li>
&lt;li>非&lt;code>root&lt;/code>用户不能监听&amp;lt;1024的端口(所以一般&lt;code>root&lt;/code>启动&lt;code>nginx&lt;/code>)&lt;/li>
&lt;li>nobody为Linux非登录用户,其作为nginx运行用户可保证安全&lt;/li>
&lt;li>&lt;code>Linux&lt;/code>的共享:&lt;code>NFS&lt;/code>协议&lt;/li>
&lt;li>&lt;code>windows&lt;/code>与&lt;code>linux&lt;/code>共享:&lt;code>SMB&lt;/code>协议(&lt;code>Samba&lt;/code>软件)&lt;/li>
&lt;/ul>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>权限&lt;/th>
&lt;th>符号&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>可执行&lt;/td>
&lt;td>x&lt;/td>
&lt;td>可以进入该目录,无法读取该目录中的内容&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>可执行可读&lt;/td>
&lt;td>xr&lt;/td>
&lt;td>可以进入该目录并读取该目录中的内容,不能创建文件&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>可执行可写&lt;/td>
&lt;td>xw&lt;/td>
&lt;td>可以创建文件但是不能读取&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;ul>
&lt;li>opessl自签名&lt;/li>
&lt;/ul>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">openssl genrsa -out server.key &lt;span style="color:#ae81ff">1024&lt;/span>
openssl req -new -key server.key -out server.csr &lt;span style="color:#75715e">#Common Name填写(泛)域名&lt;/span>
openssl x509 -req -in server.csr -out server.crt -signkey server.key -days &lt;span style="color:#ae81ff">3650&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;ul>
&lt;li>目录描述 :&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://cdn.jsdelivr.net/gh/twbworld/hosting@master/img/20210404165626.jpg" alt="">&lt;/p>
&lt;ul>
&lt;li>
&lt;p>Linux配置流程 :&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">ufw防火墙关闭
静态ip
ali源
ssh安装及配置
samba安装及配置;用户:root;密码:root;
传项目文件
python升级
net-tools安装
iftop安装
htop安装
git安装及配置
tig安装
tree安装
screen安装
docker安装
docker-compose安装
golang安装
hugo安装
node安装
php安装
mysql安装
~/.vimrc配置
syntax on
set autoindent
set fileencodings&lt;span style="color:#f92672">=&lt;/span>utf-8,gb2312,gb18030,gbk,ucs-bom,cp936,latin1
set enc&lt;span style="color:#f92672">=&lt;/span>utf8
set fencs&lt;span style="color:#f92672">=&lt;/span>utf8,gbk,gb2312,gb18030
set paste
set nu!
~/.bashrc配置
stty ixany
stty ixoff -ixon
alias l&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;ls -CF&amp;#39;&lt;/span>
alias ll&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;ls -alF&amp;#39;&lt;/span>
alias la&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;ls -A&amp;#39;&lt;/span>
alias rm&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;rm -i&amp;#39;&lt;/span>
alias cp&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;cp -i&amp;#39;&lt;/span>
alias mv&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;mv -i&amp;#39;&lt;/span>
alias gs&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;git status&amp;#39;&lt;/span>
alias lg&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;git log --color --graph --all --oneline --decorate --pretty=format:&amp;#34;%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&amp;lt;%an&amp;gt;%Creset&amp;#34; --abbrev-commit&amp;#39;&lt;/span>
alias hugo1314&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;hugo server --i18n-warnings --disableFastRender -D --bind 192.168.2.222 -p 1314 --baseURL=http://192.168.2.222:1314&amp;#39;&lt;/span>
alias d&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;docker&amp;#39;&lt;/span>
alias dps&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;docker ps --format &amp;#34;table {{.ID}}\t{{.Names}}\t{{.Image}}\t{{.Status}}&amp;#34;&amp;#39;&lt;/span>
alias ds&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;docker stats --format &amp;#34;table {{.Name}}\t{{.CPUPerc}}\t{{.MemPerc}} / {{.MemUsage}}&amp;#34;&amp;#39;&lt;/span>
alias de&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;docker exec -it&amp;#39;&lt;/span>
alias tree&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;tree -NFC&amp;#39;&lt;/span>
alias lt&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#39;tree -aNFCL&amp;#39;&lt;/span>
开启BBR
echo &lt;span style="color:#e6db74">&amp;#34;net.core.default_qdisc=fq&amp;#34;&lt;/span> &amp;gt;&amp;gt; /etc/sysctl.conf
echo &lt;span style="color:#e6db74">&amp;#34;net.ipv4.tcp_congestion_control=bbr&amp;#34;&lt;/span> &amp;gt;&amp;gt; /etc/sysctl.conf
sysctl -p
lsmod | grep bbr
&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>SSL证书申请 :&lt;/p>
&lt;p>详细说明:&lt;a href="https://github.com/acmesh-official/acme.sh/wiki/%E8%AF%B4%E6%98%8E">https://github.com/acmesh-official/acme.sh/wiki/说明&lt;/a>&lt;/p>
&lt;ol>
&lt;li>到&lt;a href="https://dash.cloudflare.com/profile" target="_blank" rel="noopener">cloudflare&lt;/a>获取&amp;quot;更新dns&amp;quot;得权限码,&lt;a href="https://github.com/acmesh-official/acme.sh/wiki/dnsapi" target="_blank" rel="noopener">教程&lt;/a>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">export CF_Key&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;xxxxxxxxxxxxxx&amp;#34;&lt;/span>
export CF_Email&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;1174865138@qq.com&amp;#34;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>安装acme.sh
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">curl https://get.acme.sh | sh -s email&lt;span style="color:#f92672">=&lt;/span>1174865138@qq.com
source ~/.bashrc
&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>获取证书
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">acme.sh --issue --dns dns_cf -d twbhub.com -d *.twbhub.com -d twbhub.top -d *.twbhub.top &lt;span style="color:#ae81ff">\
&lt;/span>&lt;span style="color:#ae81ff">&lt;/span>--yes-I-know-dns-manual-mode-enough-go-ahead-please
&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>验证证书
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">acme.sh --renew -d twbhub.com -d *.twbhub.com -d twbhub.top -d *.twbhub.top &lt;span style="color:#ae81ff">\
&lt;/span>&lt;span style="color:#ae81ff">&lt;/span>--yes-I-know-dns-manual-mode-enough-go-ahead-please --force
&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>安装证书到别的位置
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">acme.sh --install-cert -d twbhub.com -d *.twbhub.com -d twbhub.top -d *.twbhub.top &lt;span style="color:#ae81ff">\
&lt;/span>&lt;span style="color:#ae81ff">&lt;/span>--key-file /var/www/html/docker/data/cert/twbhub.com_top/key.pem &lt;span style="color:#ae81ff">\
&lt;/span>&lt;span style="color:#ae81ff">&lt;/span>--fullchain-file /var/www/html/docker/data/cert/twbhub.com_top/cert.pem &lt;span style="color:#ae81ff">\
&lt;/span>&lt;span style="color:#ae81ff">&lt;/span>--reloadcmd &lt;span style="color:#e6db74">&amp;#34;docker exec nginx nginx -t &amp;amp;&amp;amp; docker exec trojan /bin/bash -c &amp;#39;systemctl restart trojan &amp;amp;&amp;amp; exit&amp;#39; &amp;amp;&amp;amp; docker exec nginx /bin/bash -c &amp;#39;service nginx force-reload &amp;amp;&amp;amp; exit&amp;#39;&amp;#34;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>自动更新acme.sh版本
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">acme.sh --upgrade --auto-upgrade
&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ol>
&lt;/li>
&lt;/ul>
&lt;h2 id="git-1">Git&lt;/h2>
&lt;ul>
&lt;li>
&lt;p>初始配置Git&lt;/p>
&lt;blockquote>
&lt;ol>
&lt;li>设置本地用户和邮箱
&lt;code>git config --global user.name &amp;lt;your_name&amp;gt; &amp;amp;&amp;amp; git config --global user.email &amp;lt;your_email&amp;gt;&lt;/code>&lt;/li>
&lt;li>本地生成公钥
&lt;code>ssh-keygen -t rsa -C &amp;lt;your_email&amp;gt;&lt;/code>&lt;/li>
&lt;li>找到公钥,复制到github账号(即添加过公钥的用户才被允许管理github项目)&lt;/li>
&lt;li>测试公钥
&lt;code>ssh -T git@github.com&lt;/code>&lt;/li>
&lt;li>到github创建项目&lt;/li>
&lt;li>本地创建项目并初始化
&lt;code>git init&lt;/code>&lt;/li>
&lt;li>关联远程库和本地
&lt;code>git remote add &amp;lt;自定义远程仓库名,如origin&amp;gt; &amp;lt;远程项目地址&amp;gt;&lt;/code>&lt;/li>
&lt;li>可查看本地关联的所有仓库主机
&lt;code>git remote -v 或者 git remote show origin&lt;/code>&lt;/li>
&lt;li>把项目添加到缓存区
&lt;code>git add . 和 git commit –m &amp;lt;备注&amp;gt;&lt;/code>&lt;/li>
&lt;li>提交项目到origin仓库的master分支
&lt;code>git push origin master (添加&amp;quot;--tags&amp;quot;可同时上传tag)&lt;/code>&lt;/li>
&lt;/ol>
&lt;/blockquote>
&lt;/li>
&lt;li>
&lt;p>git hook :&lt;/p>
&lt;blockquote>
&lt;ul>
&lt;li>第三方仓库git hook&lt;/li>
&lt;li>服务器部署git裸仓库
&lt;a href="http://kongfangyu.com/2016/02/12/git-deploy">http://kongfangyu.com/2016/02/12/git-deploy&lt;/a>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;/li>
&lt;li>
&lt;p>备注规范 :&lt;/p>
&lt;blockquote>
&lt;ul>
&lt;li>feat: 新功能&lt;/li>
&lt;li>fix: 修复 bug&lt;/li>
&lt;li>chore: 其他修改,构建过程或辅助工具和库（如文档生成）的更改&lt;/li>
&lt;li>refactor: bug 修复和添加新功能之外的代码改动,重构大改动&lt;/li>
&lt;li>perf: 提升性能的改动&lt;/li>
&lt;li>docs: 文档变动&lt;/li>
&lt;li>style: 格式调整，对代码实际运行没有改动，例如添加空行、格式化等&lt;/li>
&lt;li>test: 添加或修正测试代码&lt;/li>
&lt;li>ci: 持续集成相关文件修改&lt;/li>
&lt;li>release: 发布新版本&lt;/li>
&lt;li>revert: 恢复上一次提交&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;/li>
&lt;/ul>
&lt;h2 id="编译安装">编译安装&lt;/h2>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">
&lt;span style="color:#75715e"># 配置&lt;/span>
./configure --prefix&lt;span style="color:#f92672">=&lt;/span>/usr/local/nginx
&lt;span style="color:#75715e"># 清除编译文件&lt;/span>
make clean
&lt;span style="color:#75715e"># 编译&lt;/span>
make
&lt;span style="color:#75715e"># 安装&lt;/span>
make install
&lt;span style="color:#75715e"># 软连接&lt;/span>
ln -s /usr/local/nginx/sbin/nginx /usr/bin/nginx
&lt;span style="color:#75715e"># 开机自启&lt;/span>
vim /etc/init.d/nginx &lt;span style="color:#f92672">&amp;amp;&amp;amp;&lt;/span> chmod a+x /etc/init.d/nginx
&lt;span style="color:#75715e"># 加入chkconfig管理列表&lt;/span>
chkconfig --add /etc/init.d/nginx
chkconfig nginx on
systemctl status nginx.service
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="网络">网络&lt;/h2>
&lt;ul>
&lt;li>
&lt;p>&lt;code>TCP&lt;/code> :需要三次握手,建立了 &lt;code>TCP&lt;/code> 虚拟通道,之后, &lt;code>TCP&lt;/code> 运输 &lt;code>HTTP流&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>SSL&lt;/code> : 位于 &lt;code>TCP&lt;/code> 与 &lt;code>HTTP&lt;/code> 之间,作为 &lt;code>HTTP&lt;/code> 的安全供应商，全权负责 &lt;code>HTTP&lt;/code> 的安全加密工作。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>TLS&lt;/code> : 在 &lt;code>SSL3.0&lt;/code> 版本的基础上，重新设计并命名了这个协议，其全新的名字为 &lt;code>TLS&lt;/code> ,形成: &lt;code>TCP连接时间&lt;/code> + &lt;code>TLS 连接时间&lt;/code> + &lt;code>HTTP交易时间&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>HTTPS&lt;/code> : 通常将 &lt;code>TLS&lt;/code> 安全保护的 &lt;code>HTTP&lt;/code> 通信，称之为 &lt;code>HTTPS&lt;/code> ，以区别于没有 &lt;code>TLS&lt;/code> 安全防护的 &lt;code>HTTP&lt;/code> 明文通信。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>HTTP/2&lt;/code> : 第一次页面与第二次页面都是同一个网站服务器,重用第一个页面 &lt;code>TCP&lt;/code> 连接(多路复用)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>QUIC&lt;/code> : &lt;code>http/2&lt;/code> 去掉 &lt;code>TCP&lt;/code> ,改用不需要连接的 &lt;code>UDP&lt;/code> ,形成: &lt;code>UDP / QUIC&lt;/code> ,第一次 &lt;code>2.5RTT&lt;/code> ,完成 &lt;code>QUIC&lt;/code> 交易的连接的 &lt;code>Session ID&lt;/code> 会缓存在浏览器内存里,第二次,使用 &lt;code>Session ID&lt;/code> ,重连 &lt;code>TLS&lt;/code> 连接是一个 &lt;code>0 RTT&lt;/code> 事件&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>HTTP/3&lt;/code> : 把 &lt;code>QUIC&lt;/code> 与 &lt;code>HTTP&lt;/code> 分离,形成: &lt;code>UDP / QUIC / HTTP&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>使用 &lt;code>IPv4&lt;/code> 进行路由，使用 &lt;code>TCP&lt;/code> 进行连接层面的流量控制，使用 &lt;code>SSL/TLS&lt;/code> 协议实现传输安全，使用 &lt;code>DNS&lt;/code> 进行域名解析，使用 &lt;code>HTTP&lt;/code> 进行应用数据的传输。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>IP&lt;/code> 是网络层 ; &lt;code>TCP&lt;/code> 是传输层&lt;/p>
&lt;/li>
&lt;li>
&lt;p>网络层 &lt;code>ARP&lt;/code> : 保存 &lt;code>IP&lt;/code> 与 &lt;code>mac&lt;/code> 地址的映射列表,没有则会广播&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>TCP/IP&lt;/code> 连接 + &lt;code>http&lt;/code> 传输 &amp;ndash;&amp;gt; 网卡 &amp;ndash;&amp;gt; 内核(通过资源包的四元组信息,信息的其中之二是访问的 &lt;code>IP+端口&lt;/code> ) &amp;ndash;&amp;gt; &lt;code>socket&lt;/code>(它是文件系统,是资源,是网络与进程的中介,储存着端对端的四元组信息,被进程使用) &amp;ndash;&amp;gt; 进程&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="隧道">隧道&lt;/h2>
&lt;blockquote>
&lt;p>&lt;a href="https://www.zhihu.com/question/39382183">https://www.zhihu.com/question/39382183&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;ul>
&lt;li>隧道是一种技术,有 &lt;code>SSH隧道&lt;/code> 和 &lt;code>http隧道&lt;/code> 和 &lt;code>UDP隧道(p2p)&lt;/code>&lt;/li>
&lt;li>隧道的中间服务器是不参与流量分析的,只用来传输流量,只是用于简单的过度&lt;/li>
&lt;li>代理是可以参与流量的处理的,比如 &lt;code>http代理&lt;/code>&lt;/li>
&lt;li>但 &lt;code>http代理&lt;/code> 不能传输 &lt;code>https流量&lt;/code> ,因为 &lt;code>https&lt;/code> 是端对端的加密,没有中间人&lt;/li>
&lt;li>为了解决不能代理 &lt;code>https流量&lt;/code> , &lt;code>http隧道&lt;/code> 配合 &lt;code>http&lt;/code> 的 &lt;code>CONNECT报文&lt;/code> 解决了这个问题;&lt;/li>
&lt;li>&lt;code>SOCKS5&lt;/code> 方式可以代替 &lt;code>CONNECT报文&lt;/code> 的方法, &lt;code>CONNECT报文&lt;/code> 只能用于 &lt;code>http流量&lt;/code> ,而 &lt;code>SOCKS5&lt;/code> 可以传输任意协议,如 &lt;code>https&lt;/code> 或 &lt;code>ftp&lt;/code>&lt;/li>
&lt;li>大致原理: &lt;code>本地---(1)---&amp;gt;代理---(2)---&amp;gt;服务器&lt;/code>; 本地与代理建立动态端口隧道,过程&lt;code>(1)&lt;/code> 使用 &lt;code>SOCKS5&lt;/code> 或 &lt;code>http&lt;/code> 的 &lt;code>CONNECT报文(包裹着https流量)&lt;/code> , 过程 &lt;code>(2)&lt;/code> 使用 &lt;code>https&lt;/code>;&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>&lt;a href="https://www.zsythink.net/archives/2450">https://www.zsythink.net/archives/2450&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;ol>
&lt;li>
&lt;p>动态转发(科学上网)&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">&lt;span style="color:#75715e"># socks5代理的建立&lt;/span>
ssh -N -f -D 127.0.0.1:6666 root@121.199.63.39
&lt;span style="color:#75715e"># 原理:本地(127.0.0.1:6666)与代理(121.199.63.39)服务器建立隧道后,本地(127.0.0.1)使用socks5协议在外层加密https协议,通过本地代理端口(6666)-(隧道)-代理(121.199.63.39)-https访问服务端(https://www.google.com)&lt;/span>
curl -x socks5://127.0.0.1:6666 https://www.google.com &lt;span style="color:#75715e">#http为例&lt;/span>
ssh -o ProxyCommand&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#e6db74">&amp;#34;nc -X 5 -x 127.0.0.1:6666 %h %p&amp;#34;&lt;/span> https://www.google.com &lt;span style="color:#75715e">#ssh为例,参数-X默认socks5&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>本地转发&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">ssh -N -f -L 192.168.2.2:6666:121.199.63.39:22 root@121.199.63.39
&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>远程转发&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">ssh -N -f -R 121.199.63.39:6666:127.0.0.1:22 root@121.199.63.39
&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>
&lt;p>通过 &lt;code>121.199.63.39&lt;/code> 的 &lt;code>22&lt;/code> 端口,登录 &lt;code>121.199.63.39localhost&lt;/code> 的 &lt;code>6666&lt;/code> 端口&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">ssh -J root@121.199.63.39:22 -p6666 localhost
&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ol>
&lt;h2 id="nftables">Nftables&lt;/h2>
&lt;p>防火墙配置例子 :&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">&lt;span style="color:#75715e"># my.nft&lt;/span>
table inet filter &lt;span style="color:#f92672">{&lt;/span>
chain input &lt;span style="color:#f92672">{&lt;/span>
type filter hook input priority 0; policy drop;
ct state established,related accept
iif &lt;span style="color:#e6db74">&amp;#34;lo&amp;#34;&lt;/span> accept comment &lt;span style="color:#e6db74">&amp;#34;一律接受本地环回&amp;#34;&lt;/span>
ct state invalid drop
ip protocol icmp icmp type echo-request ct state new accept
ip protocol udp ct state new jump UDP
ip protocol tcp tcp flags &amp;amp; &lt;span style="color:#f92672">(&lt;/span>fin | syn | rst | ack&lt;span style="color:#f92672">)&lt;/span> &lt;span style="color:#f92672">==&lt;/span> syn ct state new jump TCP
ip protocol udp reject
ip protocol tcp reject with tcp reset
meta nfproto ipv4 counter packets &lt;span style="color:#ae81ff">0&lt;/span> bytes &lt;span style="color:#ae81ff">0&lt;/span> reject with icmp type prot-unreachable
&lt;span style="color:#f92672">}&lt;/span>
chain forward &lt;span style="color:#f92672">{&lt;/span>
type filter hook forward priority 0; policy drop;
&lt;span style="color:#f92672">}&lt;/span>
chain output &lt;span style="color:#f92672">{&lt;/span>
type filter hook output priority 0; policy accept;
&lt;span style="color:#f92672">}&lt;/span>
chain TCP &lt;span style="color:#f92672">{&lt;/span>
tcp dport ssh ct state new limit rate 15/minute accept comment &lt;span style="color:#e6db74">&amp;#34;避免对SSH施加暴力&amp;#34;&lt;/span>
tcp dport &lt;span style="color:#f92672">{&lt;/span> http, https, mysql &lt;span style="color:#f92672">}&lt;/span> accept comment &lt;span style="color:#e6db74">&amp;#34;80,443,3306&amp;#34;&lt;/span>
tcp dport domain accept comment &lt;span style="color:#e6db74">&amp;#34;DNS:53&amp;#34;&lt;/span>
tcp dport &lt;span style="color:#f92672">{&lt;/span> netbios-ns, netbios-dgm, netbios-ssn, microsoft-ds &lt;span style="color:#f92672">}&lt;/span> accept comment &lt;span style="color:#e6db74">&amp;#34;Samba:137,138,139,445&amp;#34;&lt;/span>
tcp dport &lt;span style="color:#f92672">{&lt;/span> xtel, xtelw &lt;span style="color:#f92672">}&lt;/span> accept comment &lt;span style="color:#e6db74">&amp;#34;:Hugo:1313,1314&amp;#34;&lt;/span>
ip saddr &lt;span style="color:#f92672">{&lt;/span> 192.168.2.100 &lt;span style="color:#f92672">}&lt;/span> drop
&lt;span style="color:#f92672">}&lt;/span>
chain UDP &lt;span style="color:#f92672">{&lt;/span>
udp dport domain accept
&lt;span style="color:#f92672">}&lt;/span>
&lt;span style="color:#f92672">}&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="ftp">Ftp&lt;/h2>
&lt;ol>
&lt;li>关闭防火墙&lt;/li>
&lt;li>安装 &lt;code>ftp&lt;/code>&lt;/li>
&lt;li>修改三份文件 &lt;code>ftpusers&lt;/code> &lt;code>user_list&lt;/code> &lt;code>vsftpd.conf&lt;/code>&lt;/li>
&lt;li>重启 &lt;code>ftp&lt;/code>&lt;/li>
&lt;li>防火墙配置文件允许 &lt;code>21&lt;/code> 端口&lt;/li>
&lt;li>开启防火墙&lt;/li>
&lt;li>&lt;code>ftp&lt;/code> 限制用户访问目录思路:修改 &lt;code>/etc/vsftpd/vsftpd.conf&lt;/code> 文件中 &lt;code>chroot_local_user&lt;/code> , &lt;code>chroot_list_enable&lt;/code> , &lt;code>chroot_list_file&lt;/code> 三项; 修改用户默认进入的家目录,则修改 &lt;code>/etc/passwd&lt;/code>&lt;/li>
&lt;/ol>
&lt;p>&lt;code>vsftpd.conf&lt;/code> 文件参考配置 :&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">listen_ipv6&lt;span style="color:#f92672">=&lt;/span>YES
pam_service_name&lt;span style="color:#f92672">=&lt;/span>vsftpd
tcp_wrappers&lt;span style="color:#f92672">=&lt;/span>YES
write_enable&lt;span style="color:#f92672">=&lt;/span>YES
local_umask&lt;span style="color:#f92672">=&lt;/span>&lt;span style="color:#ae81ff">022&lt;/span> &lt;span style="color:#75715e">#用户ftp创建目录的权限掩码,022即为755&lt;/span>
listen&lt;span style="color:#f92672">=&lt;/span>NO &lt;span style="color:#75715e">#监听,yes可能导致无法启动ftp&lt;/span>
anonymous_enable&lt;span style="color:#f92672">=&lt;/span>NO &lt;span style="color:#75715e">#拒绝匿名用户&lt;/span>
local_root&lt;span style="color:#f92672">=&lt;/span>/var/www/html &lt;span style="color:#75715e">#本地用户初始目录&lt;/span>
&lt;span style="color:#75715e">#登录限制&lt;/span>
local_enable&lt;span style="color:#f92672">=&lt;/span>YES
userlist_enable&lt;span style="color:#f92672">=&lt;/span>YES
userlist_deny&lt;span style="color:#f92672">=&lt;/span>NO
userlist_file&lt;span style="color:#f92672">=&lt;/span>/etc/vsftpd/user_list
&lt;span style="color:#75715e">#目录限制&lt;/span>
chroot_local_user&lt;span style="color:#f92672">=&lt;/span>YES
chroot_list_enable&lt;span style="color:#f92672">=&lt;/span>YES
chroot_list_file&lt;span style="color:#f92672">=&lt;/span>/etc/vsftpd/chroot_list
allow_writeable_chroot&lt;span style="color:#f92672">=&lt;/span>YES
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="nginx">Nginx&lt;/h2>
&lt;ul>
&lt;li>
&lt;p>&lt;code>linux&lt;/code> 支持 缓存/gzip/端口复用(套接字端口共享)功能( &lt;code>nginx&lt;/code> 开启 &lt;code>reuseport&lt;/code> );从内核层面做 &lt;code>负载均衡&lt;/code> ,避免 &lt;code>锁竞争&lt;/code> ( &lt;code>惊群效应&lt;/code> ): &lt;a href="https://www.zhihu.com/question/51618274">https://www.zhihu.com/question/51618274&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Nginx实现负载均衡需要源码的同步, 使用 &lt;code>rsync&lt;/code> (或+ &lt;code>sersync&lt;/code> )实现集群服务器源码同步,源服务器执行的命令:
&lt;code>rsync -avH --progress --delete --exclude-from=/etc/exclude.txt --password-file=/etc/pw.txt /var/www/html/ username@192.168.43.175::module1&lt;/code>&lt;/p>
&lt;blockquote>
&lt;p>其中按顺序是:含有忽略同步列表的 &lt;code>exclude.txt&lt;/code> 文件,含有密码的 &lt;code>pw.txt&lt;/code> 文件,源服务器的同步目录, &lt;code>username&lt;/code> 用户名,ip地址,对应的模块
&lt;a href="https://blog.51cto.com/chenfei123/1707746">https://blog.51cto.com/chenfei123/1707746&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;/li>
&lt;/ul>
&lt;p>&lt;code>负载均衡&lt;/code> 和 &lt;code>前后端分离&lt;/code> 配置 :&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">&lt;span style="color:#75715e">#后端应反向给Apache代理&lt;/span>
upstream proxys &lt;span style="color:#f92672">{&lt;/span>
server 127.0.0.1:8080 weight&lt;span style="color:#f92672">=&lt;/span>2;
server 192.168.43.175:9090 weight&lt;span style="color:#f92672">=&lt;/span>3;
ip_hash;
&lt;span style="color:#f92672">}&lt;/span>
&lt;span style="color:#75715e">#前端应反向给Nginx代理&lt;/span>
upstream proxys2 &lt;span style="color:#f92672">{&lt;/span>
server 127.0.0.1:8081 weight&lt;span style="color:#f92672">=&lt;/span>3;
server 192.168.43.175:9090 weight&lt;span style="color:#f92672">=&lt;/span>2;
&lt;span style="color:#f92672">}&lt;/span>
server &lt;span style="color:#f92672">{&lt;/span>
listen 80;
server_name www.domain.top domain.top;
index index.html index.htm index.php;
location / &lt;span style="color:#f92672">{&lt;/span>
proxy_pass http://proxys;
proxy_http_version 1.1;
proxy_set_header Host $http_host;
proxy_set_header X-Real-IP $remote_addr;
proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
add_header X-Slave $upstream_addr;
&lt;span style="color:#f92672">}&lt;/span>
location ~* &lt;span style="color:#ae81ff">\.&lt;/span>&lt;span style="color:#f92672">(&lt;/span>css|js|png|jpg|jpeg|gif|txt|ico&lt;span style="color:#f92672">)&lt;/span>$|^~/static &lt;span style="color:#f92672">{&lt;/span>
proxy_pass http://proxys2;
proxy_set_header Host $http_host;
proxy_set_header X-Real-IP $remote_addr;
proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
add_header X-Slave $upstream_addr;
&lt;span style="color:#f92672">}&lt;/span>
&lt;span style="color:#f92672">}&lt;/span>
&lt;span style="color:#75715e">#前端请求代理的配置&lt;/span>
server &lt;span style="color:#f92672">{&lt;/span>
listen 8081;
server_name www.domain.top domain.top;
location / &lt;span style="color:#f92672">{&lt;/span>
root /var/www/html/tp/public;
&lt;span style="color:#f92672">}&lt;/span>
&lt;span style="color:#f92672">}&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;code>缓存&lt;/code> 和 &lt;code>gzip&lt;/code> 配置 :&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">http &lt;span style="color:#f92672">{&lt;/span>
&lt;span style="color:#75715e"># 开启缓存&lt;/span>
proxy_connect_timeout 10;
proxy_read_timeout 180;
proxy_send_timeout 5;
proxy_buffer_size 16k;
proxy_buffers &lt;span style="color:#ae81ff">4&lt;/span> 32k;
proxy_busy_buffers_size 96k;
proxy_temp_file_write_size 96k;
proxy_temp_path /tmp/temp_dir;
proxy_cache_path /tmp/cache levels&lt;span style="color:#f92672">=&lt;/span>1:2 keys_zone&lt;span style="color:#f92672">=&lt;/span>cache_one:100m inactive&lt;span style="color:#f92672">=&lt;/span>1d max_size&lt;span style="color:#f92672">=&lt;/span>10g;
server
&lt;span style="color:#f92672">{&lt;/span>
listen &lt;span style="color:#ae81ff">8081&lt;/span> reuseport;
server_name localhost;
root /usr/share/nginx/tp/public/;
location /
&lt;span style="color:#f92672">{&lt;/span>
&lt;span style="color:#f92672">}&lt;/span>
&lt;span style="color:#f92672">}&lt;/span>
server
&lt;span style="color:#f92672">{&lt;/span>
&lt;span style="color:#75715e">#开启gzip压缩资源&lt;/span>
gzip on;
gzip_vary on;
gzip_proxied any;
gzip_comp_level 6;
gzip_buffers &lt;span style="color:#ae81ff">16&lt;/span> 8k;
gzip_http_version 1.0;
gzip_min_length 100;
gzip_types text/plain text/css application/javascript application/json application/x-javascript text/xml application/xml application/xml+rss text/javascript application/vnd.ms-fontobject application/x-font-ttf font/opentype image/svg+xml image/x-icon;
&lt;span style="color:#75715e">#资源文件缓存&lt;/span>
location ~* &lt;span style="color:#ae81ff">\.&lt;/span>&lt;span style="color:#f92672">(&lt;/span>css|js|json|png|jpg|jpeg|gif|txt|ico|bmp|swf&lt;span style="color:#f92672">)&lt;/span>$|^~/static/
&lt;span style="color:#f92672">{&lt;/span>
proxy_pass http://127.0.0.1:8081;
proxy_redirect off;
proxy_set_header Host $host;
proxy_cache cache_one; &lt;span style="color:#75715e">#cache_one在http设置层proxy_cache_path定义&lt;/span>
proxy_cache_valid &lt;span style="color:#ae81ff">200&lt;/span> &lt;span style="color:#ae81ff">302&lt;/span> 24h;
proxy_cache_valid &lt;span style="color:#ae81ff">301&lt;/span> 30d;
proxy_cache_valid any 5m;
expires 90d;
add_header wall &lt;span style="color:#e6db74">&amp;#34;hey!这文件进行了缓存和压缩哟!&amp;#34;&lt;/span>;
&lt;span style="color:#f92672">}&lt;/span>
&lt;span style="color:#f92672">}&lt;/span>
&lt;span style="color:#f92672">}&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="数据库读写分离">数据库读写分离&lt;/h2>
&lt;p>实现 &lt;code>读写分离&lt;/code> 分为两大步 :&lt;/p>
&lt;ul>
&lt;li>&lt;a href="https://www.jianshu.com/p/bfca0cdfb169" target="_blank" rel="noopener">主从同步&lt;/a>&lt;/li>
&lt;li>读写分离;有两种方式 :
&lt;ul>
&lt;li>通过程序实现,如TP框架,性能最好;&lt;/li>
&lt;li>使用代理工具,如 :
&lt;ul>
&lt;li>&lt;a href="https://www.jianshu.com/p/cb7ec06dae05" target="_blank" rel="noopener">Mycat&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.jianshu.com/p/cadf337274c1" target="_blank" rel="noopener">Mysql-Proxy&lt;/a>&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;/li>
&lt;/ul>
&lt;blockquote>
&lt;p>&lt;code>mysql&lt;/code> 之间可相互主从同步,避免 &lt;code>单点&lt;/code> ;当有主从数据库发生宕机,可使用 &lt;code>percona-tooldit&lt;/code> 工具解决恢复宕机后主从数据不同步的问题
&lt;a href="https://blog.51cto.com/moerjinrong/2352317">https://blog.51cto.com/moerjinrong/2352317&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;p>&lt;code>Mysql-Proxy&lt;/code> 配置文件 &lt;code>mysql-proxy.cnf&lt;/code> 参考 :&lt;/p>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-sh" data-lang="sh">&lt;span style="color:#f92672">[&lt;/span>mysql-proxy&lt;span style="color:#f92672">]&lt;/span>
&lt;span style="color:#75715e">#运行mysql-proxy用户&lt;/span>
user&lt;span style="color:#f92672">=&lt;/span>root
&lt;span style="color:#75715e">#主从mysql共有的用户&lt;/span>
admin-username&lt;span style="color:#f92672">=&lt;/span>proxy
&lt;span style="color:#75715e">#用户的密码&lt;/span>
admin-password&lt;span style="color:#f92672">=&lt;/span>root
&lt;span style="color:#75715e">#mysql-proxy运行ip(不能是127.0.0.1)和端口,不加端口,默认4040&lt;/span>
proxy-address&lt;span style="color:#f92672">=&lt;/span>192.168.1.1:4040
&lt;span style="color:#75715e">#slave从数据库Ip地址,默认端口3306&lt;/span>
proxy-read-only-backend-addresses&lt;span style="color:#f92672">=&lt;/span>192.168.1.2:3306
&lt;span style="color:#75715e">#master主数据库Ip地址,默认端口3306&lt;/span>
proxy-backend-addresses&lt;span style="color:#f92672">=&lt;/span>192.168.1.3:3306
&lt;span style="color:#75715e">#读写分离配置文件&lt;/span>
proxy-lua-script&lt;span style="color:#f92672">=&lt;/span>/usr/lib64/mysql-proxy/lua/rw-splitting.lua
&lt;span style="color:#75715e">#管理脚本&lt;/span>
admin-lua-script&lt;span style="color:#f92672">=&lt;/span>/usr/lib64/mysql-proxy/lua/admin.lua
&lt;span style="color:#75715e">#日志&lt;/span>
log-file&lt;span style="color:#f92672">=&lt;/span>/var/log/mysql-proxy.log
&lt;span style="color:#75715e">#日志级别,高到低有error|warning|info|message|debug&lt;/span>
log-level&lt;span style="color:#f92672">=&lt;/span>info
&lt;span style="color:#75715e">#以守护进程方式运行&lt;/span>
daemon&lt;span style="color:#f92672">=&lt;/span>true
&lt;span style="color:#75715e">#崩溃时,尝试重启&lt;/span>
keepalive&lt;span style="color:#f92672">=&lt;/span>true
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="数据库">数据库&lt;/h2>
&lt;blockquote>
&lt;p>&lt;code>mysql8&lt;/code> 特性 :&lt;/p>
&lt;ul>
&lt;li>&lt;code>utf8mb4&lt;/code> 储存表情符号&lt;/li>
&lt;li>默认 &lt;code>InnoDB&lt;/code>&lt;/li>
&lt;li>降序索引&lt;/li>
&lt;li>JSON支持,直接操作json里的数据&lt;/li>
&lt;li>跳过锁等待&lt;/li>
&lt;li>用户角色管理权限&lt;/li>
&lt;li>&lt;code>innodb_dedicated_server&lt;/code> 自适应参数,自动配置 &lt;code>mysql&lt;/code>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;ul>
&lt;li>
&lt;p>&lt;code>redis&lt;/code> 只做缓存使用,避免进行 &lt;code>持久性&lt;/code> &amp;amp;&amp;amp; &lt;code>队列&lt;/code> &amp;amp;&amp;amp; &lt;code>事务&lt;/code> (总之一句话:专人专事)&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>redis&lt;/code> 和 &lt;code>DB&lt;/code> 一致性方案:只读 &lt;code>redis&lt;/code> ,当更新 &lt;code>DB&lt;/code> 之后把受影响的缓存全部干掉(注意:是干掉,不是更新),并且设定过期时间: &lt;a href="https://www.zhihu.com/question/319817091">https://www.zhihu.com/question/319817091&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>出现不能连接数据库的情况,除了防火墙,也可能是数据库没有设置对外添加权限&lt;/p>
&lt;/li>
&lt;li>
&lt;p>出现用户不能登录的情况,可能是默认登录了 &lt;code>匿名用户&lt;/code> , 要把用户名为 &lt;code>''&lt;/code> 的用户清除&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>MyISAM&lt;/code> 存储引擎偏向于大量查询和插入事件,表锁&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;code>InnoDB&lt;/code> 存储引擎偏向于增删改事件,支持事务,支持索引行锁&lt;/p>
&lt;/li>
&lt;li>
&lt;p>索引才用 &lt;code>for update&lt;/code> 锁库&lt;/p>
&lt;/li>
&lt;li>
&lt;p>数据库类型
&lt;a href="http://www.jb51.net/article/55853.htm">http://www.jb51.net/article/55853.htm&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>免密码登录
&lt;code>skip-grant-tables&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>性能测试
&lt;code>explain select * from dnname&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>性能测试工具(mysql自带)
&lt;code>mysqlslap ...&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>数据库导出
&lt;code>mysqldump -uroot -p dbname &amp;gt; dbname.sql&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>新建数据库
&lt;code>CREATE DATABASE mydb CHARACTER SET utf8 COLLATE utf8_general_ci&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>插入数据
&lt;code>insert into $my_name (id,name,tel) values('2','tab',null)&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>删除数据
&lt;code>delete from my_name where id = 1;&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>修改数据
&lt;code>update my_name set id='2',name='tab' where id=1;&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>插入字段
&lt;code>alter table my_name add id varchar(32)&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>删除字段
&lt;code>alter table my_name drop id&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>去掉name重复的
&lt;code>SELECT DISTINCT name FROM my_name&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>计算个数
&lt;code>select count(*) from my_name&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>计算总和
&lt;code>select sum(*) from my_name&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>计算平均
&lt;code>select sum(*)/count(*) from my_name&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>计算平均
&lt;code>select avg(name) from my_name&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>最小值
&lt;code>select min(name) from my_name&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>双重查询,查询指定最小值对应的的所有字段
&lt;code>SELECT * FROM my_name WHERE name=(SELECT max(name)FROM my_name)&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>根据指定字段分类
&lt;code>select * from my_name group by name;&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>表的联合查询
&lt;code>SELECT * FROM my_name as a INNER JOIN my_name2 as b on a.name=b.id&lt;/code>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>左查询,就是当my_name跟my_name2的的值不相对应则以my_name为主要,my_name2多出的值则省略
&lt;code>SELECT * FROM my_name as a left outer JOIN my_name2 as b on a.name=b.id&lt;/code>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;h2 id="php">PHP&lt;/h2>
&lt;blockquote>
&lt;p>php7特性&lt;/p>
&lt;ul>
&lt;li>用绝对路径&lt;/li>
&lt;li>重定向后使用exit&lt;/li>
&lt;li>array_walk&lt;/li>
&lt;li>&amp;amp;引用节省内存&lt;/li>
&lt;li>+= array()&lt;/li>
&lt;li>isset($a{1})&lt;/li>
&lt;li>$_SERVER[&amp;lsquo;REQUEST_TIME&amp;rsquo;]&lt;/li>
&lt;li>strtr&lt;/li>
&lt;li>高亮PHP代码highlight_file&lt;/li>
&lt;li>2 &amp;lt;=&amp;gt; 1&lt;/li>
&lt;li>echo &amp;ldquo;\u{41}&amp;quot;,PHP_EOL;&lt;/li>
&lt;li>use some\namespace{ClassA, ClassB, ClassC as C};&lt;/li>
&lt;li>function arraysSum(int &amp;hellip;$ints): string&lt;/li>
&lt;li>
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-php" data-lang="php"> &lt;span style="color:#66d9ef">class&lt;/span> &lt;span style="color:#a6e22e">A&lt;/span>{&lt;span style="color:#66d9ef">static&lt;/span> &lt;span style="color:#66d9ef">private&lt;/span> $b &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#e6db74">&amp;#39;hello world&amp;#39;&lt;/span>;}
$bb &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#66d9ef">function&lt;/span> (){&lt;span style="color:#66d9ef">return&lt;/span> &lt;span style="color:#a6e22e">A&lt;/span>&lt;span style="color:#f92672">::&lt;/span>$b;};
&lt;span style="color:#66d9ef">echo&lt;/span> $bb&lt;span style="color:#f92672">-&amp;gt;&lt;/span>&lt;span style="color:#a6e22e">call&lt;/span>(&lt;span style="color:#66d9ef">new&lt;/span> &lt;span style="color:#a6e22e">A&lt;/span>);
&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;ul>
&lt;li>bug
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-php" data-lang="php">[] &lt;span style="color:#f92672">==&lt;/span> []; &lt;span style="color:#75715e">//为false
&lt;/span>&lt;span style="color:#75715e">&lt;/span>
&lt;span style="color:#e6db74">&amp;#39;a&amp;#39;&lt;/span> &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">0&lt;/span>;
$a &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#e6db74">&amp;#39;0.3&amp;#39;&lt;/span> &lt;span style="color:#f92672">-&lt;/span> &lt;span style="color:#e6db74">&amp;#39;0.1&amp;#39;&lt;/span>;
&lt;span style="color:#a6e22e">json_encode&lt;/span>($a);
&lt;span style="color:#ae81ff">0.55&lt;/span> &lt;span style="color:#f92672">*&lt;/span> &lt;span style="color:#ae81ff">100&lt;/span> &lt;span style="color:#f92672">==&lt;/span> &lt;span style="color:#ae81ff">55&lt;/span>; &lt;span style="color:#75715e">//为false
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>json_encode((array)$array, JSON_UNESCAPED_UNICODE|JSON_UNESCAPED_SLASHES|JSON_PRETTY_PRINT)&lt;/li>
&lt;li>有时候exec命令执行失败,却没有报错,请这样使用:&lt;code>exec('ls 2&amp;gt;&amp;amp;1', $a, $b)&lt;/code>&lt;/li>
&lt;li>&lt;code>fastcgi&lt;/code>就是执行 &lt;code>cgi协议&lt;/code> 的,用于定义 &lt;code>Nginx&lt;/code> 调用 &lt;code>php&lt;/code> 时的数据格式,并减少对 &lt;code>php.ini&lt;/code> 的读取&lt;/li>
&lt;li>&lt;code>php-fpm&lt;/code>就是 &lt;code>Nginx&lt;/code> 服务调用的程序,管理 &lt;code>fastcgi&lt;/code> 进程&lt;/li>
&lt;li>&lt;code>php-cli&lt;/code>就是 &lt;code>shell&lt;/code> 命令行调用的程序&lt;/li>
&lt;li>&lt;code>|||nochange|||&lt;/code>表示 &lt;code>input&lt;/code> 输入框为空&lt;/li>
&lt;li>&lt;code>htmlentities&lt;/code> / &lt;code>htmlspecialchars&lt;/code> 可以过滤成 &lt;code>html格式&lt;/code> , 防止 &lt;code>XSS&lt;/code>&lt;/li>
&lt;li>&lt;code>addslashes&lt;/code> 防止 &lt;code>sql注入&lt;/code>&lt;/li>
&lt;li>&lt;code>explain&lt;/code> 用于测试 &lt;code>sql语句&lt;/code> 性能&lt;/li>
&lt;li>引用字符串方式: &lt;code>Nowdoc&lt;/code> / &lt;code>Heredoc&lt;/code>&lt;/li>
&lt;li>中文简体格式
&lt;code>header('Content-type:text/html;charset=utf-8')&lt;/code>&lt;/li>
&lt;li>解决textarea标签回车编码问题
&lt;code>str_replace(&amp;quot; &amp;quot;,&amp;quot; &amp;quot;,str_replace(&amp;quot;\n&amp;quot;,&amp;quot;&amp;lt;br/&amp;gt;&amp;quot;,$data))&lt;/code>&lt;/li>
&lt;li>单入口写上: &lt;code>session_start()&lt;/code> 才可以使用 &lt;code>$_SESSION&lt;/code>&lt;/li>
&lt;li>跳转到#页面
&lt;code>header('Location:#')&lt;/code>&lt;/li>
&lt;li>php格式插入html遍历
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-php" data-lang="php">&lt;span style="color:#f92672">&amp;lt;?&lt;/span>&lt;span style="color:#a6e22e">php&lt;/span> &lt;span style="color:#66d9ef">foreach&lt;/span> ($my_name &lt;span style="color:#66d9ef">as&lt;/span> $x &lt;span style="color:#f92672">=&amp;gt;&lt;/span> $y){ &lt;span style="color:#75715e">?&amp;gt;&lt;/span>&lt;span style="color:#960050;background-color:#1e0010">
&lt;/span>&lt;span style="color:#960050;background-color:#1e0010"> &amp;lt;li&amp;gt;&amp;lt;?php echo $y[&amp;#39;z&amp;#39;] ?&amp;gt;&amp;lt;/li&amp;gt;
&lt;/span>&lt;span style="color:#960050;background-color:#1e0010">&amp;lt;?php } ?&amp;gt;
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>内容返回
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-php" data-lang="php">&lt;span style="color:#a6e22e">ob_start&lt;/span>(); &lt;span style="color:#75715e">//开启echo缓存区
&lt;/span>&lt;span style="color:#75715e">&lt;/span>&lt;span style="color:#66d9ef">echo&lt;/span> &lt;span style="color:#e6db74">&amp;#34;Hello&amp;#34;&lt;/span>; &lt;span style="color:#75715e">//输出
&lt;/span>&lt;span style="color:#75715e">&lt;/span>&lt;span style="color:#a6e22e">ob_end_flush&lt;/span>(); &lt;span style="color:#75715e">//输出全部内容到浏览器,包括echo
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>php数组排序
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-php" data-lang="php">&lt;span style="color:#a6e22e">array_multisort&lt;/span>(&lt;span style="color:#a6e22e">array_column&lt;/span>($array,&lt;span style="color:#e6db74">&amp;#39;create_time&amp;#39;&lt;/span>),&lt;span style="color:#a6e22e">SORT_DESC&lt;/span>,$array)
&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;li>跨域
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-php" data-lang="php">$origin &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#a6e22e">isset&lt;/span>($_SERVER[&lt;span style="color:#e6db74">&amp;#39;HTTP_ORIGIN&amp;#39;&lt;/span>]) &lt;span style="color:#f92672">?&lt;/span> $_SERVER[&lt;span style="color:#e6db74">&amp;#39;HTTP_ORIGIN&amp;#39;&lt;/span>] &lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#e6db74">&amp;#39;&amp;#39;&lt;/span>;
$originsAllowed &lt;span style="color:#f92672">=&lt;/span> [
&lt;span style="color:#e6db74">&amp;#39;http://cc.cc:8080&amp;#39;&lt;/span>,
];
&lt;span style="color:#66d9ef">if&lt;/span> (&lt;span style="color:#a6e22e">in_array&lt;/span>($origin, $originsAllowed)) {
&lt;span style="color:#a6e22e">defined&lt;/span>(&lt;span style="color:#e6db74">&amp;#39;CORS_ORIGIN&amp;#39;&lt;/span>) &lt;span style="color:#f92672">||&lt;/span> &lt;span style="color:#a6e22e">define&lt;/span>(&lt;span style="color:#e6db74">&amp;#39;CORS_ORIGIN&amp;#39;&lt;/span>, $origin);
&lt;span style="color:#a6e22e">header&lt;/span>(&lt;span style="color:#e6db74">&amp;#39;Access-Control-Allow-Origin: &amp;#39;&lt;/span> &lt;span style="color:#f92672">.&lt;/span> $origin); &lt;span style="color:#75715e">//可以用*允许所有
&lt;/span>&lt;span style="color:#75715e">&lt;/span> &lt;span style="color:#a6e22e">header&lt;/span>(&lt;span style="color:#e6db74">&amp;#34;Access-Control-Allow-Methods: POST, GET, OPTIONS, PUT&amp;#34;&lt;/span>);
&lt;span style="color:#a6e22e">header&lt;/span>(&lt;span style="color:#e6db74">&amp;#39;Access-Control-Allow-Headers: X-Requested-With, X_Requested_With, content-type&amp;#39;&lt;/span>);
&lt;span style="color:#a6e22e">header&lt;/span>(&lt;span style="color:#e6db74">&amp;#34;Access-Control-Allow-Credentials: true&amp;#34;&lt;/span>);
}
&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>函数&lt;/th>
&lt;th>描述&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>rand(x,y)&lt;/td>
&lt;td>在xy之间取随机数&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>implode(&amp;lsquo;xx&amp;rsquo;,'$my_name')&lt;/td>
&lt;td>用xx隔开my_name中每个元素&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>explode()&lt;/td>
&lt;td>把字符串打散为数组.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>arry_merge()&lt;/td>
&lt;td>打散混乱数组重新排列&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>in_array($xy,$my_name)&lt;/td>
&lt;td>数组$my_name是否含$xy&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>mb_substr($my_name,x,y,&amp;lsquo;utf-8&amp;rsquo;)&lt;/td>
&lt;td>截取字符串,从第x个字符开始截取y个字符&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>strtotime()&lt;/td>
&lt;td>将任何英文文本的日期或时间描述解析为 Unix 时间戳.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>字符串类型&lt;/td>
&lt;td>&amp;ndash;&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>addcslashes()&lt;/td>
&lt;td>返回在指定的字符前添加反斜杠的字符串.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>addslashes()&lt;/td>
&lt;td>返回在预定义的字符前添加反斜杠的字符串.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>chop()&lt;/td>
&lt;td>删除字符串右侧的空白字符或其他字符..&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>chunk_split()&lt;/td>
&lt;td>把字符串分割为一系列更小的部分.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>html_entity_decode()&lt;/td>
&lt;td>把 HTML 实体转换为字符.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>htmlentities()&lt;/td>
&lt;td>把字符转换为 HTML 实体.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>htmlspecialchars_decode()&lt;/td>
&lt;td>把一些预定义的 HTML 实体转换为字符.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>htmlspecialchars()&lt;/td>
&lt;td>把一些预定义的字符转换为 HTML 实体.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>join()&lt;/td>
&lt;td>implode() 的别名.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ltrim()&lt;/td>
&lt;td>移除字符串左侧的空白字符或其他字符.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>md5()&lt;/td>
&lt;td>计算字符串的 MD5 散列.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>number_format()&lt;/td>
&lt;td>以千位分组来格式化数字.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>parse_str()&lt;/td>
&lt;td>把查询字符串解析到变量中.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>rtrim()&lt;/td>
&lt;td>移除字符串右侧的空白字符或其他字符.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>sha1()&lt;/td>
&lt;td>计算字符串的 SHA-1 散列.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>similar_text()&lt;/td>
&lt;td>计算两个字符串的相似度.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>sprintf()&lt;/td>
&lt;td>把格式化的字符串写入变量中.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>str_pad()&lt;/td>
&lt;td>把字符串填充为新的长度.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>str_repeat()&lt;/td>
&lt;td>把字符串重复指定的次数.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>str_replace()&lt;/td>
&lt;td>替换字符串中的一些字符(对大小写敏感)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>str_shuffle()&lt;/td>
&lt;td>随机地打乱字符串中的所有字符.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>str_split()&lt;/td>
&lt;td>把字符串分割到数组中.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>strip_tags()&lt;/td>
&lt;td>剥去字符串中的 HTML 和 PHP 标签.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>stripcslashes()&lt;/td>
&lt;td>删除由 addcslashes() 函数添加的反斜杠.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>stripslashes()&lt;/td>
&lt;td>删除由 addslashes() 函数添加的反斜杠.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>stripos()&lt;/td>
&lt;td>返回字符串第一次出现的位置(大小写不敏感)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>strpos()&lt;/td>
&lt;td>返回字符串第一次出现的位置(大小写敏感)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>stristr()&lt;/td>
&lt;td>查找字符串第一次出现的位置(大小写不敏感)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>strrchr()&lt;/td>
&lt;td>查找字符串最后一次出现.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>strripos()&lt;/td>
&lt;td>查找字符串最后一次出现的位置(大小写不敏感)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>strrpos()&lt;/td>
&lt;td>查找字符串最后一次出现的位置(大小写敏感)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>strstr()&lt;/td>
&lt;td>查找字符串第一次出现(大小写敏感)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>strchr()&lt;/td>
&lt;td>查找字符串第一次出现,strstr() 的别名&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>strrev()&lt;/td>
&lt;td>反转字符串.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>strlen()&lt;/td>
&lt;td>返回字符串的长度.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>strtolower()&lt;/td>
&lt;td>把字符串转换为小写字母.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>strtoupper()&lt;/td>
&lt;td>把字符串转换为大写字母.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>strtr()&lt;/td>
&lt;td>转换字符串中特定的字符.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>substr()&lt;/td>
&lt;td>返回字符串的一部分.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>substr_count()&lt;/td>
&lt;td>计算子串在字符串中出现的次数.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>substr_replace()&lt;/td>
&lt;td>把字符串的一部分替换为另一个字符串.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ucfirst()&lt;/td>
&lt;td>把字符串中的首字符转换为大写.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ucwords()&lt;/td>
&lt;td>把字符串中每个单词的首字符转换为大写.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>数组函数&lt;/td>
&lt;td>&amp;ndash;&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>array_change_key_case()&lt;/td>
&lt;td>把数组中所有键更改为小写或大写.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>array_chunk()&lt;/td>
&lt;td>把一个数组分割为新的数组块.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>array_column()&lt;/td>
&lt;td>返回输入数组中某个单一列的值.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>array_combine()&lt;/td>
&lt;td>通过合并两个数组来创建一个新数组.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>array_count_values()&lt;/td>
&lt;td>用于统计数组中所有值出现的次数.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>array_diff()&lt;/td>
&lt;td>比较数组,返回差集(只比较键值)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>array_fill()&lt;/td>
&lt;td>用给定的键值填充数组.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>array_fill_keys()&lt;/td>
&lt;td>用指定键名的给定键值填充数组.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>array_filter()&lt;/td>
&lt;td>用回调函数过滤数组中的元素.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>array_flip()&lt;/td>
&lt;td>交换数组中的键和值.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>array_intersect()&lt;/td>
&lt;td>比较数组,返回交集(只比较键值)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>array_key_exists()&lt;/td>
&lt;td>检查指定的键名是否存在于数组中.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>array_keys()&lt;/td>
&lt;td>返回数组中所有的键名.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>array_map()&lt;/td>
&lt;td>把数组中的每个值发送到用户自定义函数,返回新的值.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>array_merge()&lt;/td>
&lt;td>把一个或多个数组合并为一个数组.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>array_multisort()&lt;/td>
&lt;td>对多个数组或多维数组进行排序.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>array_pad()&lt;/td>
&lt;td>用值将数组填补到指定长度.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>array_pop()&lt;/td>
&lt;td>删除数组的最后一个元素(出栈)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>array_push()&lt;/td>
&lt;td>将一个或多个元素插入数组的末尾(入栈)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>array_replace()&lt;/td>
&lt;td>使用后面数组的值替换第一个数组的值.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>array_reverse()&lt;/td>
&lt;td>以相反的顺序返回数组.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>array_search()&lt;/td>
&lt;td>搜索数组中给定的值并返回键名.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>array_shift()&lt;/td>
&lt;td>删除数组中首个元素,并返回被删除元素的值.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>array_slice()&lt;/td>
&lt;td>返回数组中被选定的部分.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>array_splice()&lt;/td>
&lt;td>删除并替换数组中指定的元素.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>array_sum()&lt;/td>
&lt;td>返回数组中值的和.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>array_udiff()&lt;/td>
&lt;td>比较数组,返回差集&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>array_unique()&lt;/td>
&lt;td>删除数组中的重复值.(集合的概念)&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>array_unshift()&lt;/td>
&lt;td>在数组开头插入一个或多个元素.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>array_values()&lt;/td>
&lt;td>返回数组中所有的值.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>arsort()&lt;/td>
&lt;td>对关联数组按照键值进行降序排序.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>asort()&lt;/td>
&lt;td>对关联数组按照键值进行升序排序.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>compact()&lt;/td>
&lt;td>创建包含变量名和它们的值的数组.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>count()&lt;/td>
&lt;td>返回数组中元素的数目.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>current()&lt;/td>
&lt;td>返回数组中的当前元素.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>extract()&lt;/td>
&lt;td>从数组中将变量导入到当前的符号表.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>in_array()&lt;/td>
&lt;td>检查数组中是否存在指定的值.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>key()&lt;/td>
&lt;td>从关联数组中取得键名.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>krsort()&lt;/td>
&lt;td>对数组按照键名逆向排序.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ksort()&lt;/td>
&lt;td>对数组按照键名排序.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>list()&lt;/td>
&lt;td>把数组中的值赋给一些变量.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>range()&lt;/td>
&lt;td>创建包含指定范围单元的数组.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>rsort()&lt;/td>
&lt;td>对数组逆向排序.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>shuffle()&lt;/td>
&lt;td>将数组打乱.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>sizeof()&lt;/td>
&lt;td>count() 的别名.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>sort()&lt;/td>
&lt;td>对数组排序.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>uasort()&lt;/td>
&lt;td>使用用户自定义的比较函数对数组中的键值进行排序.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>uksort()&lt;/td>
&lt;td>使用用户自定义的比较函数对数组中的键名进行排序.&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>usort()&lt;/td>
&lt;td>使用用户自定义的比较函数对数组进行排序.&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="前端">前端&lt;/h2>
&lt;ul>
&lt;li>可以设置类似&lt;code>cookie&lt;/code> , 它可永久保存
&lt;code>localStorage.setItem(name, val)&lt;/code>&lt;/li>
&lt;li>死链
&lt;code>&amp;lt;a href=&amp;quot;javascript:void(0);&amp;quot;&amp;gt;&lt;/code>&lt;/li>
&lt;li>CSS加载JS样式
&lt;code>behavior:url()&lt;/code>&lt;/li>
&lt;li>选择div内第二个li,类似js
&lt;code>div li:first-child+li{}&lt;/code>&lt;/li>
&lt;li>选择form下类型为text的input标签
&lt;code>form input[type=&amp;quot;text&amp;quot;]{}&lt;/code>&lt;/li>
&lt;li>居中CSS背景图片
&lt;code>background-position:center&lt;/code>&lt;/li>
&lt;li>居中HTML图片
&lt;code>&amp;lt;div align=&amp;quot;center&amp;quot;&amp;gt;&amp;lt;img src=&amp;quot;&amp;quot;&amp;gt;&lt;/code>&lt;/li>
&lt;li>居中div
&lt;code>{top:0;left:0;bottom:0;right:0;margin:auto}/margin:0 auto;&lt;/code>&lt;/li>
&lt;li>单行文字水平/垂直居中
&lt;code>text-decoration:center;/line-height:10px;&lt;/code>&lt;/li>
&lt;li>多行文字垂直居中:div1&amp;gt;div2&amp;gt;p
&lt;code>div1{display:table;/*转换成表格*/} div2{display:table-cell;vertical-align:middle;}&lt;/code>&lt;/li>
&lt;li>li中间向两边分布
&lt;code>ul{text-align:center}li{display: inline-block;}&lt;/code>&lt;/li>
&lt;li>li水平分布,ul宽度平均分割给li
&lt;code>ul{display:flex}li{flex:1;text-align:center}&lt;/code>&lt;/li>
&lt;li>li水平分布,类似最左和最右浮动两边的效果
&lt;code>div{overflow:hidden;width:11px} div ul{width:12px} li{width:5px;margin_right:1px}&lt;/code>&lt;/li>
&lt;li>轮播图不能有滚动条
&lt;code>在ul父级加overflow:hidden;width:100%;position: relative;//position用于ul居中&lt;/code>&lt;/li>
&lt;li>清除浮动,class是my_name就可以清除浮动
&lt;code>.my_name:after{content:&amp;quot;&amp;quot;; display:block; height:0; visibility:hidden; clear:both;}&lt;/code>&lt;/li>
&lt;li>鼠标悬浮图片放大
&lt;code>.div:hover img{transform: scale(1.03);transition: all 1s ease 0s;-webkit-transform: scale(1.03);-webkit-transform: all 1s ease 0s;}&lt;/code>&lt;/li>
&lt;li>iframe高度
&lt;div class="highlight">&lt;pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-js" data-lang="js">&lt;span style="color:#66d9ef">var&lt;/span> &lt;span style="color:#a6e22e">e&lt;/span> &lt;span style="color:#f92672">=&lt;/span> window,
&lt;span style="color:#a6e22e">a&lt;/span> &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#e6db74">&amp;#39;inner&amp;#39;&lt;/span>,
&lt;span style="color:#a6e22e">$header&lt;/span> &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#a6e22e">$&lt;/span>(&lt;span style="color:#e6db74">&amp;#34;.header&amp;#34;&lt;/span>);&lt;span style="color:#75715e">//如果页面有头部,则要减去
&lt;/span>&lt;span style="color:#75715e">&lt;/span>&lt;span style="color:#66d9ef">if&lt;/span> (&lt;span style="color:#f92672">!&lt;/span>(&lt;span style="color:#e6db74">&amp;#39;innerWidth&amp;#39;&lt;/span> &lt;span style="color:#66d9ef">in&lt;/span> window)) {
&lt;span style="color:#a6e22e">a&lt;/span> &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#e6db74">&amp;#39;client&amp;#39;&lt;/span>;
&lt;span style="color:#a6e22e">e&lt;/span> &lt;span style="color:#f92672">=&lt;/span> document.&lt;span style="color:#a6e22e">documentElement&lt;/span> &lt;span style="color:#f92672">||&lt;/span> document.&lt;span style="color:#a6e22e">body&lt;/span>;
}
&lt;span style="color:#66d9ef">var&lt;/span> &lt;span style="color:#a6e22e">height&lt;/span> &lt;span style="color:#f92672">=&lt;/span> &lt;span style="color:#a6e22e">e&lt;/span>[&lt;span style="color:#a6e22e">a&lt;/span> &lt;span style="color:#f92672">+&lt;/span> &lt;span style="color:#e6db74">&amp;#39;Height&amp;#39;&lt;/span>] &lt;span style="color:#f92672">-&lt;/span> &lt;span style="color:#a6e22e">$header&lt;/span>.&lt;span style="color:#a6e22e">outerHeight&lt;/span>();
&lt;span style="color:#a6e22e">$&lt;/span>(&lt;span style="color:#e6db74">&amp;#34;.iframe&amp;#34;&lt;/span>).&lt;span style="color:#a6e22e">css&lt;/span>({
&lt;span style="color:#a6e22e">height&lt;/span>&lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#a6e22e">height&lt;/span>,
&lt;span style="color:#a6e22e">width&lt;/span>&lt;span style="color:#f92672">:&lt;/span> &lt;span style="color:#e6db74">&amp;#34;100%&amp;#34;&lt;/span>
});
&lt;/code>&lt;/pre>&lt;/div>&lt;/li>
&lt;/ul>
&lt;p>&lt;strong>&amp;hellip; 以上&lt;/strong>&lt;/p></description></item></channel></rss>